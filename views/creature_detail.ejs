<!DOCTYPE html>
<html>
  <head>
    <%-include('./partial/head.ejs') %>
  </head>
  <body>
    <%-include('./partial/navbar.ejs') %>
    <div class="flex">
      <%-include('./partial/sidenav.ejs') %>
      <main class="px-16 py-6 flex-1">
        <header>
          <h2 class="text-gray-700 text-5xl font-semibold font-main">
            <%= title %>
          </h2>

          <div class="grid my-6 grid-cols-5 gap-3">
            <img
              src="/uploads/creatures/<%= creature.filepath %>"
              class="mr-3 mb-3 w-full h-22 sm:h-48 object-cover col-span-2"
            />
            <div class="col-span-3">
              <p class="text-gray-700 text-xl font-semibold font-main">
                Source :
                <a href="<%= creature.source[0].url %>" class="underline">
                  <%= creature.source[0].name %>
                </a>
              </p>
              <p class="text-gray-700 text-xl font-semibold font-main">
                Type :
                <a href="<%= creature.type.url %>" class="underline"
                  ><%= creature.type.name %>
                </a>
              </p>
              <p class="text-gray-700 text-xl font-semibold font-main">
                Size : <%= creature.size %>
              </p>
              <p class="font-secondary text-xl indent-5 float-left">
                <%= creature.history %>
              </p>
            </div>
          </div>

          <h2 class="mt-5 text-gray-700 text-3xl font-semibold font-main">
            Creature Instances
          </h2>
          <div class="grid lg:grid-cols-3 gap-10">
            <% if (creature_instances.length > 0) { %> <%
            creature_instances.forEach( (instance) => { %>
            <div class="card hover:shadow-lg">
              <div class="m-4 mb-1 flex justify-center items-end">
                <span class="text-lg tracking-wide font-bold font-main"
                  ><%= instance.name %></span
                >
              </div>
              <img
                src="/uploads/creatureinstances/<%= instance.filepath %>"
                class="w-full h-22 sm:h-48 object-cover"
              />
              <a href="<%= instance.url%>">
                <button
                  class="absolute bottom-0 right-0 mr-3 mb-2 bg-black hover:bg-gray-900 text-white font-bold py-2 px-4 rounded font-secondary tracking-wide"
                >
                  View
                </button>
              </a>
            </div>
            <% } ) %> <%} %>
          </div>
        </header>
      </main>
    </div>
  </body>
</html>
